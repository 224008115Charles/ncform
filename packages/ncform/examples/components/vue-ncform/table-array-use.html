<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>vue-ncform Example</title>

  <!--TODO: 可自己扩展替换掉样式-->
  <link rel="stylesheet" href="../../../node_modules/bootstrap/dist/css/bootstrap.min.css">
</head>

<body>

  <!--演示区域-->
  <div id="demo" class="container">
    <div v-for="formSchema in formSchemas">
      --------------------------
      <ncform :form-schema="formSchema" v-model="formSchema.value"></ncform>

      <button class="btn btn-primary" @click="submit(formSchema.value)">提交</button>
    </div>
  </div>

  <script type="text/javascript" src="../../../node_modules/vue/dist/vue.js"></script>
  <script type="text/javascript" src="../../../node_modules/@ncform/ncform-common/dist/ncformCommon.min.js"></script>
  <script type="text/javascript" src="../../../dist/vueNcform.js"></script>
  <script type="text/javascript">
    Vue.use(vueNcform)

    // Bootstrap the app
    new Vue({
      el: '#demo',
      data: {
        formSchemas: [
          {
            type: 'object',
            properties: {
              person: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    firstname: { type: 'string' },
                    lastname: { type: 'string' }
                  },
                  ui: {
                    label: 'people'
                  }
                },
                ui: {
                  showLegend: false,
                  widget: 'array-table',
                  // widgetConfig: {
                  //   disableAdd: true,
                  //   disableDel: true,
                  //   disableReorder: true
                  // }
                }
              }
            },
            value: {
              "person": [
                {
                  "firstname": "daniel",
                  "lastname": "xiao"
                },
                {
                  "firstname": "sarah ",
                  "lastname": "wu"
                }
              ]
            },
            ui: {
              widgetConfig: {
                layout: 'h'
              }
            }
          },
          {
            type: 'object',
            properties: {
              person: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    name: {
                      type: 'object',
                      properties: {
                        firstname: { type: 'string' }
                      }
                    }
                  }
                },
                ui: {
                  widget: 'array-table'
                }
              }
            },
            value: {
              "person": [
                {
                  "name": {
                    "firstname": "daniel"
                  }
                },
                {
                  "name": {
                    "firstname": "sarah"
                  }
                }
              ]
            }
          },
          {
            type: 'object',
            properties: {
              person: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    name: {
                      type: 'array',
                      items: {
                        type: 'string'
                      },
                      ui: {
                        widget: 'array-table'
                      }
                    }
                  }
                },
                ui: {
                  widget: 'array-table'
                }
              }
            },
            value: {
              "person": [
                {
                  "name": [
                    "daniel"
                  ]
                },
                {
                  "name": [
                    "sarah"
                  ]
                }
              ]
            }
          },
          {
            type: 'object',
            properties: {
              person: {
                type: 'array',
                items: {
                  type: 'array',
                  items: {
                    type: 'string',
                    ui: {
                      label: 'name'
                    }
                  },
                  ui: {
                    widget: 'array-table'
                  }
                },
                ui: {
                  widget: 'array-table'
                }
              }
            },
            value: {
              "person": [
                [
                  "daniel"
                ],
                [
                  "sarah"
                ]
              ]
            }
          },
          {
            type: 'object',
            properties: {
              person: {
                type: 'array',
                items: {
                  type: 'string',
                },
                ui: {
                  widget: 'array-table'
                }
              }
            },
            value: {
              "person": [
                "daniel",
                "sarah"
              ]
            }
          }
        ]
      },
      methods: {
        submit(value) {
          console.log(JSON.stringify(value, null, 2));
        }
      }
    });
  </script>
</body>

</html>
